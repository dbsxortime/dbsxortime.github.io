################################
###06.02
#요구사항 확인
 * 내부관리자 : 카드사 한도 일괄등록 및 변경
 * 가맹점관리자 : MID 관리담당자 노출

1. 내부관리자 > 기본정보관리 > 카드사한도조회 > 카드사 한도 일괄 등록/변경(신규, 최 하단)
  > 하나/삼성
  > 한도 구분에 입력한 '가맹점번호'가 카드사정보관리 > 가맹점번호 관리 화면에 기등록되어있는 지 검증 -> 미등록 시 업로드 실패
  > 일괄등록/수정 업로드양식 동일
    >> 등록 : 전체 항목 필수
    >> 변경 : 사용여부/통화코드 선택 값 (미변경 시 N으로 업로드 -> N일경우 기존 값 그대로 보여줌)
  > 코드검증
    >> 삼성 -> 한도종류 : 인증/비인증만 등록 가능
    >> 하나 -> 한도종류 : 통합만 가능

2. 가맹점관리자 > 가맹점 > 가맹점정보 > 기본정보화면
  > MID '관리담당자' 노출
   >> TB_MERCHANT.EMP1


#개발계획
1. 카드사한도 일괄등록/수정
  > 메뉴 추가
    >> 메뉴화면에 jsp추가		V

  > 샘플 파일 추가
    >> 테스트서버 파일 추가 경로	V

  > 화면 추가
    >> 엑셀 등록화면		
    >> 엑셀 등록 

  > 공통 데이터 검증
    >> 코드 정리 : 기존 업로드와 동일한 로직으로 처리하기
    >> 한도구분 : '가맹점번호' 검증

  > 등록 데이터 검증 
    >> 전체 항목 입력

  > 수정 데이터 검증 
    >> 기등록데이터 검증
    >> 통화코드, 사용여부 선택값

  > 코드 검증
    >> 삼성 한도종류 : 인증/비인증만 등록 가능
    >> 하나 한도종류 : 통합만 등록 가능

###06.07
#수정
1. 신규등록 화면 - 통화코드 '전체' 콤보박스 '선택하세요'로 변경		

2. 통합/인증/비인증 엑셀양식 변경					V

3. 한도종류 수정 시 중복데이터 발생 오류 수정				-
  1) DB KEY값 한도종류 제외			키 수정 없이 해결해보자 	V
  > 기존 데이터 충돌 발생 위험 있음 (테스트서버 -> 충돌)			V

# 메일 수정사항							V
1. 변경 가능 값 : 한도종류, 통화코드, 사용여부 (한도종류 추가)		V
  > 입력/수정 시 중복데이터 입력 막기					V

2. 엑셀 코드표 양식 변경						V
  > 통화코드, 사용여부 순서						V
  > 한도종류 변경 미대상 추가					V

3. 한도금액 N 입력 처리						V

4. 변경 시 한도금액 N 입력가능 변경					V

###06.08
#해야할 것들 정리해보기						V
1. 기존 수정, 등록 시 중복데이터 발생 오류 잡기				V
  > 등록, 수정 시 기존 데이터 확인하기					V
    >> 등록 시 							V
      >>데이터 중복 검증방식 변경					V
    >> 수정 시							V
      >>데이터 중복 검증방식 변경					V
  > 자바 데이터처리 확인하기					V
    >> 등록 시 							V
      >>데이터 중복 검증방식 변경					V
    >> 수정 시							V
      >>데이터 중복 검증방식 변경					V
  > SQL수정							V
    >> 동일 데이터 판단 조건 변경 					V
      >> 일부 값 조건에서 제거					V
        >> 할부여부							V
        >> 통화코드							V

2. 엑셀 업로드 시(변경 시 PK로 오류 발생) -> 데이터검증 확인하기		V
  > 기존 등록/수정 자바파일 고치니까 같이 오류 고쳐짐... 이게무슨.. 		V
  > 엑셀 업로드 시 카드사별 데이터 확인				V
  > 데이터 검증 방식 수정						V
    >> static array로 변경						V
    >> 카드사별 코드 분리						V
    >> 변경데이터 수정						V
      >> 변경 시 이전데이터 조회 값 변경				V

  > 데이터 검증 오류 수정						V
    >> 이전데이터 검증 오류 수정					V
      >> 등록							V
      >> 변경							V


3. 기타 수정 							V
  > 신규등록 화면 - 통화코드 '전체' 콤보박스 '선택하세요'로 변경		V

4. 테스트서버 업로드						V

###06.09
1. 산출물 작성							
  > TEST-CASE							V
  > 소스수정내역서							V
  > 개발계획서							V

2. 수정사항 확인							
  > 카드사 한도 등록화면 콤보박스 수정				V

3. 메일 수정사항							
  > 정상파일 오류 결과						
    >> 금액 입력란의 문자 입력으로 인한 오류				

  > 오류파일 결과문구 변경						
    >> 기등록된 가맹점번호가 아닙니다. 				
        -> '가맹점번호 관리' 화면에 등록되어 있지 않은 가맹점입니다		

###06.10
1. 상이한 통화코드 업데이트 							V
  > 업데이트 시 통화코드 상이할 경우 업데이트 X				V

2. 카드사 코드를 잘못 등록했을 경우 						V
  > 현재 카드사코드 잘못 입력했을 시 입력이 되고있음				V
     문구 : (카드사 코드 확인 바랍니다)						V

3. 사용여부 사용-미사용-사용							V
  > 미사용에서 사용으로 변경 시 가맹점번호 없다고 조회				V
    >> 미사용 시 to_dt를 금일로 변경하여 조회 되지 않던 오류 수정			V

  > 사용여부 미사용 변경 했을 때에도 화면에서 조회될 수 있게			V

  > 조회조건 / 조회결과 / 상세조회화면 사용여부 정보 추가			V
    >> 조회조건 항목 : 전체/사용/미사용					V
    >> 조회결과 위치 : 한도금액 오른쪽					V
    >> 조회결과 상세조회 : 한도금액, 기간 사이 사용여부 추가			V
      >> 상세조회 - 수정 시 사용여부 수정될 수 있게 수정				V

4. 신규 등록 시 사용여부 미사용						V
    >신규 등록 시 미사용 등록했으나, 조회가 됨. (3번의 미사용 상태와 상이)		V
      >> 신규등록 시 미사용이지만, to_dt가 9999999로 조회가 됐음 (수정완료)		V

5. 엑셀에 가맹점번호 중복							V
  > 엑셀의 가맹점번호 중복 검증						V
    >> 문구 : 가맹점번호가 중복됩니다.						V

6. 일괄변경 성공했으나, 한도 반영x (한도종류, 통화코드, 사용여부 N)			V
    >> 한도종류, 통화코드, 사용여부에 코드를 제대로 기재했을 경우 반영		﻿V
      >> 잘 돼서 문제가 뭔지 잘 모르겠음. 중복문제 -> 수정완료로 될 것으로 보임	V

7. 사용여부 미사용 파일 업로드 시 가맹점번호 *2의 데이터 업로드 완료문구		V
  > 04(삼성)수정 시 2개 데이터 수정으로 1 리턴 됨 (무조건 1 리턴으로 수정)		V

8. USD .00처리								V
  > 기존 USD 업로드 시 방식과 동일하게 처리					V


###06.13
#메일 추가사항
1. 카드사별 한도관리
 > 정렬방식 추가							V
  >> 화면수정 : 카드사/한도금액/한도구분/등록일자/수정일자		V
  >> java 수정 							V
    >> 조회							V
    >> 엑셀 다운로드						V
  >> sql 수정 							V
 > 엑셀양식 수정							V


2. 카드사별 한도현황						V
 > 정렬방식 추가							V
  >> 화면수정 : 카드사/한도금액/사용금액/소진율/한도구분		V
  >> 자바 코드 처리						V
  >> sql 수정							V
 > 엑셀양식 수정							V


###06.14
1. 카드사별 한도현황 From 높이 조절 (줄 추가로 잘림)			V

2. 카드사별 한도현황 사용x데이터 조회 시 미조회 > 조회 될 수 있게		V
  > 조회 : 가맹점번호 조회 시에만					V
    >> 전체 조회 시 등록되어있는 데이터만				V
    >> 가맹점 번호 조회 시 해당 데이터 조회				V
  > 엑셀 : 전체 데이터 조회						V

3. 메일 수정사항
  1) 신규등록 시 사용여부 N > 오류 (6.14 3:04메일 test1)			
    >> 기등록된 카드사 한도정보를 입력한 것으로 보임(정상 작동함)		

  2) 카드사별 한도관리 화면 수정 => 사업자번호/가맹점번호 분리		V

  3) 한도금액 내 통화 단위 삭제					V

  4) 사용여부를 미사용으로 신규등록 후 사용으로 변경 시 에러		V
    >> 사용에서 미사용으로 변경될 때에도 동일				V

  5) 카드사별 한도관리 엑셀양식 수정 ... 왜 안했지			V

  6) 수정일자 정렬 조회 시 로직 수정					V
    >> 1. 수정일자 없는 경우 등록일자 기준 정렬				V
    >> 2. 동일 날짜일 경우 시 분 초					V

확인사항) 한도금액은 업데이트 되지만, 이력이 남지 않음 
    >> 기존 방식이
         "기존 데이터의 등록일시가 입력날짜와 동일할 경우 기존 데이터의 삭제 후 입력되는 방식"으로 돼있어
         '당일에 여러번 수정 시' 최종 이력 하나만 남게 됩니다.

###06.15
1. 카드사별 한도조회 엑셀 양식에 '사용여부' 추가			V
2. 카드사별 한도현황 엑셀 양식에 하나카드 볼드처리			V

3. 삼성도 하나카드와 동일하게					V
  > 화면에는 거래가 있는 데이터만 (조회가능)				V
  > 엑셀에는 전체 데이터						V